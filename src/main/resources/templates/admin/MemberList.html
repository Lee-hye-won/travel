<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layouts/layout1}">

<head>
<meta name="_csrf" th:content="${_csrf.token}" />
<meta name="_csrf_header" th:content="${_csrf.headerName}" />
</head>

<!-- 각 페이지의 CSS가 작성될 위치 -->
<th:block layout:fragment="css">
	<style>

</style>
</th:block>

<div layout:fragment="content">
	<table style="font-size:  15px; justify-content: center; margin: 0 auto;  width: 1150px; margin-bottom: 50px; height: 80px">
		<tr style="border-top: solid 1.5px black; " >
			<th style="padding-left: 15px">No.</th>
			<th>회원 아이디</th> 
			<th style="width: 150px">회원 이름</th>
			<th style="margin: 0 auto; width: 200px">가입 날짜</th>
		</tr>
		 <tr th:each="member : ${travel.content}" style="border-top: solid 0.5px gray; border-bottom: solid 0.5px gray;">
			<td style="padding-left: 15px;" th:text="${member.id}"></td>
			<td> <a th:href="'/admin/profile/' + ${member.id}" th:text="${member.email}"></a></td>
			<td th:text="${member.name}"></td>
			<td th:text="${#temporals.format(member.regtime , 'yyyy-MM-dd')}"></td>
		</tr>
	</table>

				<nav style="margin-bottom: 50px"
							th:with="start=${(travel.number/maxPage)*maxPage + 1}
									,end=(${(travel.totalPages == 0) ? 1 : (start + (maxPage - 1) < travel.totalPages ? start + (maxPage - 1) : travel.totalPages)})"
							aria-label="Page navigation example">
							<ul class="pagination d-flex justify-content-center">
								<li class="page-item" th:classappend="${travel.first}?'disabled'">
									<a class="page-link"
									th:onclick="'javascript:page(' + ${travel.number - 1} +')'"> <</a>
								</li>
								<li class="page-item"
										th:each="page: ${#numbers.sequence(start, end)}"
									th:classappend="${travel.number eq page-1}?'active':''">
									<a
									class="page-link" th:inline="text"
									th:onclick="'javascript:page(' + ${page - 1} +')'">[[${page}]]</a>
								</li>
								<li class="page-item" th:classappend="${travel.last}?'disabled'">
									<a class="page-link"
									th:onclick="'javascript:page(' + ${travel.number + 1} +')'"> > </a>
								</li>
							</ul>
						</nav>
	

</div>

<!-- 각 페이지의 스크립트가 작성될 위치 -->
<th:block layout:fragment="script">
	<script th:inline="javascript">
		$(document).ready(function() {
			$("#searchBtn").on("click", function(e) {
				e.preventDefault(); // submit되는걸 방지
				page(0);
			});
		});
	</script>
</th:block>
</html>